"use strict";
/*!
jQuery Plugin developed by Mario Duarte
https://github.com/Mario-Duarte/image-zoom-plugin/
Simple jQuery plugin that converts an image into a click to zoom image
perfect for store products and galleries
*/
/*!
jQuery Plugin developed by Mario Duarte
https://github.com/Mario-Duarte/image-zoom-plugin/
Simple jQuery plugin that converts an image into a click to zoom image
perfect for store products and galleries
*/
!function(t){function e(){var t,e=this.parentNode,o=arguments.length;if(e)for(o||e.removeChild(this);o--;)"object"!=typeof(t=arguments[o])?t=this.ownerDocument.createTextNode(t):t.parentNode&&t.parentNode.removeChild(t),o?e.insertBefore(t,this.previousSibling):e.replaceChild(t,this)}Element.prototype.replaceWith||(Element.prototype.replaceWith=e),CharacterData.prototype.replaceWith||(CharacterData.prototype.replaceWith=e),DocumentType.prototype.replaceWith||(DocumentType.prototype.replaceWith=e);const o={};t.fn.imageZoom=function(e){let n,i=t.extend({zoom:150,fullWidth:!1},e);function r(t){const e=t.originalEvent&&t.originalEvent.touches||t.touches;return{touches:e,length:e?e.length:0,isValid:e&&e.length>0}}function a(t){if(!function(t){return"touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type}(t))return!0;return 1===r(t).length}function c(e){let o,n,i,c,s=e.currentTarget;if(!s||!e)return;let u=t(s).offset();if(u){if("mousemove"===e.type)i=e.offsetX||e.clientX-u.left,c=e.offsetY||e.clientY-u.top;else if("touchmove"===e.type){const t=r(e);if(!a(e))return;if(!t.isValid)return;e.preventDefault(),i=Math.min(Math.max(0,t.touches[0].pageX-u.left),s.offsetWidth),c=Math.min(Math.max(0,t.touches[0].pageY-u.top),s.offsetHeight)}"number"==typeof i&&"number"==typeof c&&s.offsetWidth&&s.offsetHeight&&(o=i/s.offsetWidth*100,n=c/s.offsetHeight*100,t(s).css({"background-position":`${o}% ${n}%`}))}}return o.template=`\n\t\t\t<figure class="containerZoom" style="background-image:url('${t(this).attr("src")}'); background-size: ${i.zoom}%;">\n\t\t\t\t<img id="imageZoom" src="${t(this).attr("src")}" alt="${t(this).attr("alt")}" />\n\t\t\t</figure>\n\t\t`,"IMG"===this[0].nodeName?(n=t(this).replaceWith(String(o.template)),function(e){if(!(e=t(e))||!e.length)return;const n=e.find("#imageZoom")[0];if(n){const o=()=>{const t=function(t,e){if(!i.fullWidth||!t||!t.naturalWidth)return`${i.zoom}%`;const o=e?e.clientWidth:0;if(!o)return`${i.zoom}%`;const n=t.naturalWidth/o*100;return`${n<100?i.zoom:n}%`}(n,e[0]);e.css("background-size",t)};n.complete&&n.naturalWidth>0?o():t(n).on("load",o)}e.on("click touchstart",function(e){e&&a(e)&&("zoom"in o==0&&(o.zoom=!1),e.preventDefault(),o.zoom?(o.zoom=!1,t(this).removeClass("active")):(o.zoom=!0,t(this).addClass("active"),c(e)))}),e.on("mousemove touchmove",function(t){t&&o.zoom&&c(t)}),e.on("mouseleave touchend",function(){o.zoom=!1,t(this).removeClass("active")})}(t(".containerZoom")[t(".containerZoom").length-1])):n=t(this),n}}(jQuery);